

配置交换机的名称和密文密码：
```
//用户视图
<Huawei> 
//进入系统视图配置
<Huawei>system-view 
//系统视图
[Huawei] 
//退出系统视图模式
[Huawei]quit 或 return 
//设置主机名
[Huawei]sysname DTWLXY 
//进入控制台
[Huawei]user-interface console 0 
[Huawei-ui-console0]authentication-mode password
//配置密文密码
[Huawei-ui-console0]set authentication password cipher huawei 
```
配置路由器接口 IP：
```
[Huawei]int g0/0/1 //进入接口
[Huawei-g0/0/1]ip add 192.168.1.6 24 //配 IP 地址
[Huawei-GigabitEthernet0/0/1]undo shutdown //开启
<Huawei>dis cur 或 [Huawei]dis cur //查看 ARP
```
配置静态路由
```
[Huawei]ip route-static 192.168.20.0 24 10.0.12.2
[Huawei]ip route-static 192.168.10.0 24 serial 0/0/1
[Huawei]ip route-static 0.0.0.0 0 192.168.1.5 //默认
[Huawei]dispaly ip routing-table //查看路由表
```
静态 NAT 配置：
```
<huawei>system-view
//进入端口视图
[huawei]interface Ethernet 0/0/1
//设置端口 IP 地址，网络号 30 位
[huawei-Ethernet0/0/1]ip address 192.1.1.1 30
//静态 NAT 映射，私有地址 10.1.1.2和公有地址 192.1.1.2 建立映射关系
[huawei-Ethernet0/0/1]nat static global 192.1.1.2 inside 10.1.1.2
```
动态 NAT 配置：
```
[huawei]nat address-group 1 192.1.1.2 192.1.1.4
//定义公有地址池
[huawei]acl 2000
[huawei-acl-basic-2000]rule permit source 10.1.1.0 0.0.0.255
[huawei-acl-basic-2000]quit
[huawei]interface Ethernet 0/0/1
//实现 ACL2000 中定义的 IP 可以与地址池中的地址进行 NAT 转换
//这里默认配置的是 NAPT，是多对一的关系，要配置 Basic NAT，则需要加选项 no-pat
[huawei-Ethernet0/0/1]nat outbound 2000 address-group 1
```
配置路由器基本 ACL：2000-2999
```
//配置基本 acl
[Huawei]acl 2000
//允许源 IP(注意反掩码 0，默认步长 5)
[Huawei-acl-basic-2000]rule 5 permit source 1.1.1.1 0 
//拒绝任意
[Huawei-acl-basic-2000]rule 10 deny any 
//进入接口
[Huawei]user-interface vty 0 4 
//应用 acl
[Huawei-ui-vty0-4]acl 2000 inbound 
//查看所有 acl
[Huawei]dis acl all 
//查看 acl 2000
[Huawei]dis acl 2000 
```
配置路由器高级 ACL：3000-3999
```
//配置高级 acl
[Huawei]acl 3000 
//允许访问
[Huawei-acl-adv-3000]rule permit ip source 1.1.1.1 0 destination 4.4.4.4 0 
//进入虚拟接口
[Huawei]user-interface vty 0 4 
//应用 acl
[Huawei-ui-vty0-4]acl 3000 outbound 
//进入接口
[Huawei]int g0/0/1 
//应用
[Huawei-G0/0/1]traffic-filter inbound acl 3000 
//查看所有 acl
[Huawei]dis acl all 
```
配置基于全局的 DHCP 协议：
```
[Huawei]dhcp enable //开启 dhcp
[Huawei]ip pool dtwlxy //地址池名
[Huawei-ip-pool-dtwlxy]network 192.168.1.0 //地址池
[Huawei-ip-pool-dtwlxy]lease day 2 //租约默认 1
[Huawei-ip-pool-dtwlxy]gateway-list 192.168.1.254 //网关
[Huawei-ip-pool-dtwlxy]excluded-ip-address 192.168.1.250 192.168.1.253 //排除 IP 范围
[Huawei-ip-pool-dtwlxy]dns-list 8.8.8.8 //DNS 服务器
[Huawei-G0/0/0]dhcp select global //基于全局
```
配置路由器 OSPF 协议：
```
[Huawei]ospf 1 //启用 OSPF 默认是进程 1
[Huawei-ospf-1]area 0 //进入区域 0
[Huawei-ospf-1-area-0.0.0.0]network 192.168.3.0 0.0.0.255 //发布直连网段
[Huawei-ospf-1]silent-interface g0/0/2 //被动接口
[Huawei]dis ospf interface //查看 ospf 通告
[Huawei]dis ospf peer //查看 ospf 邻居
[Huawei]dis ip routing-table //查看路由表
[Huawei]dis ospf routing //查看 ospf 路由表
```
配置路由器 RIP 协议：RIPv1 RIPv2
```
[Huawei]rip //启用 RIP 默认 v1
[Huawei-rip-1]network 192.168.1.0 //发布直连网段
[Huawei-rip-1]version 2 //配置 v2 版本
[Huawei]dis rip //查看 rip
[Huawei]dis rip database //查看 rip 数据库
[Huawei]dis ip routing-table //查看路由表
// 优先级：直连 0、静态 60、rip 100、ospf 10/150
```
配置交换机 VLAN 相关命令：
```
[Huawei]vlan 10 或 [Huawei]vlan 20 //创建 VLAN
[Huawei-vlan10]description dtwlxy //VLAN 描述
[Huawei]vlan batch 30 40 //创建多个 VLAN
[Huawei]int g0/0/1 //进入接口
[Huawei-g0/0/1]port link-type access //访问口
[Huawei-g0/0/1]port default vlan 10 //加入 VLAN
[Huawei-g0/0/2]port link-type trunk //干道口
[Huawei-g0/0/2]port trunk allow-pass vlan 10 20 允许
[Huawei-g0/0/2]port trunk allow-pass vlan all //所有
[Huawei]int e0/0/2 //进入接口
[Huawei-E0/0/2]port link-type hybrid //混合口模式
[Huawei-E0/0/2]undo port default vlan //删除默认 vlan
[Huawei-E0/0/2]port hybrid untagged vlan 20//去标签
[Huawei-E0/0/2]port hybrid pvid vlan 2//设置默认 vlan
[Huawei-E0/0/2]port trunk allow-pass vlan 10 to 100
[Huawei]dis port vlan //查看 vlan
[Huawei]display vlan //查看 vlan
```