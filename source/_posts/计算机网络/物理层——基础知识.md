---
title: 物理层——基础知识
date: 2020-09-04 14:31:20
tags: 计算机网络
categories: 计算机网络
---

# 物理层的基本概念
物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。

物理层的作用是要尽可能地屏蔽掉不同传输媒体和通信手段的差异。
## 物理层的主要任务
主要任务：确定与传输媒体的接口有关的一些特性。即：
* 机械特性：指明接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置等。
* 电气特性：指明在接口电缆的各条线上出现的电压的范围。
* 功能特性：指明某条线上出现的某一电平的电压的意义。
* 过程特性：指明对于不同功能的各种可能事件的出现顺序。 

# 数据通信的基础知识
## 数据通信系统的模型
一个数据通信系统可划分为三大部分，即源系统（或发送端、发送方）、传输系统（或传输网络）和目的系统（或接收端、接收方）。

下图是两个计算机经过普通电话机的连线，再经过公用电话网进行通信的模型。

{% asset_img img1.png 数据通信系统的模型 %}

常用术语：
* 数据：运送消息的实体。
* 信号：数据的电气或电磁的表现。 
* 模拟信号(`analogous signal`)：代表消息的参数的取值是连续的。 
* 数字信号(`digital signal`)：代表消息的参数的取值是离散的。 
* 码元(`code`)：在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形。在使用二进制编码时，只有两种不同的码元，一种代表 0 状态而另一种代表 1 状态。

## 有关信道的基本概念
信道是用来表示向某一个方向传送信息的媒体。因此，一条通信电路往往包含一条发送信道和一条接收信道。

从通信的双方信息交互方式来看，可以有以下三种基本方式：
* 单向通信(单工通信)：即只能有一个方向的通信而没有反方向的交互。无线电广播或有线电广播以及电视广播就属于这种类型。
* 双向交替通信(半双工通信)：即通信的双方都可以发送信息，但不能双方同时发送，当然也不能同时接收。这种通信方式是一方发送另一方接收，过一段时间后再反过来。
* 双向同时通信：又称全双工通信，即通信的双方可以同时发送和接收信息。

单向通信只需要一条信道，双向交替通信或双向同时通信都需要两条信道（每个方向各一条）。

来自信源的信号称为基带信号（即基本频带信号）。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。

基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进行调制(`modulation`)。 

调制分为两大类：
* 基带调制：仅对基带信号的波形进行变换，使它能够与信道特性相适应。变换后的信号仍然是基带信号。把这种过程称为编码(`coding`)。
* 带通调制：使用载波(`carrier`)进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，这样就能够更好地在模拟信道中传输（即仅在一段频率范围内能够通过信道）。

经过载波调制后的信号称为带通信号 (即仅在一段频率范围内能够通过信道)，而使用载波的调制称为带通调制。

### 常用编码方式
* 不归零制：正电平代表 1，负电平代表 0。
* 归零制：正脉冲代表 1，负脉冲代表 0。
* 曼彻斯特编码：位周期中心的向上跳变代表 0，位周期中心的向下跳变代表 1。但也可反过来定义。
* 差分曼彻斯特编码：在每一位的中心处始终都有跳变。位开始边界有跳变代表 0，而位开始边界没有跳变代表 1。

{% asset_img img2.png 数字信号常用的编码方式 %}

从信号波形中可以看出，曼彻斯特(`Manchester`)编码和差分曼彻斯特编码产生的信号频率比不归零制高。

从自同步能力来看，不归零制不能从信号波形本身中提取信号时钟频率（这叫做没有自同步能力），而曼彻斯特编码和差分曼彻斯特编码具有自同步能力。
### 基本的带通调制方法
基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。为了解决这一问题，就必须对基带信号进行调制 (`modulation`)。 
最基本的二元制调制方法有以下几种：
* 调幅(AM)：载波的振幅随基带数字信号而变化。例如，0或1分别对应于无载波或有载波输出。
* 调频(FM)：载波的频率随基带数字信号而变化。例如，0或1分别对应于频率f<sub>1</sub>或f<sub>2</sub>。
* 调相(PM)：载波的初始相位随基带数字信号而变化。例如，0或1分别对应于相位0度或180度。

{% asset_img img3.png 最基本的三种调制方式 %}

### 正交振幅调制
为了达到更高的信息传输速率，必须采用技术上更为复杂的多元制的振幅相位混合调制方法。例如，正交振幅调制 QAM(`Quadrature Amplitude Modulation`)。

例如：可供选择的相位有 12 种，而对于每一种相位有 1 或 2 种振幅可供选择。总共有 16 种组合，即 16 个码元。

由于`4 bit`编码共有 16 种不同的组合，因此这 16 个点中的每个点可对应于一种`4 bit`的编码。数据传输率可提高 4 倍。 

{% asset_img img4.png %}

不是码元越多越好。若每一个码元可表示的比特数越多，则在接收端进行解调时要正确识别每一种状态就越困难，出错率增加。
## 信道的极限容量
任何实际的信道都不是理想的，在传输信号时会产生各种失真以及带来多种干扰。

虽然信号在信道上传输时会不可避免的产生失真，但在接收端只要能从失真的波形中能够识别出原来的信号，那么这种失真对通信质量就没有影响。

码元传输的速率越高，或信号传输的距离越远，或传输媒体质量越差，在信道的输出端的波形的失真就越严重。

{% asset_img img5.png %}

从概念上讲，限制码元在信道上的传输速率的因素有两个：信道能够通过的频率范围、信噪比。
### 信道能够通过的频率范围
具体的信道所能通过的频率范围总是有限的。信号中的许多高频分量往往不能通过信道。

码间串扰：如果信道中的高频分量在传输时受到衰减，那么在接收端收到的波形前沿和后沿就变得不那么陡峭了，每一个码元所占的时间界限也不再明显，这样，在接收端收到的信号波形就失去了码元之间的清晰界限。

在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能。

如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。
### 信道特性
模拟信道的带宽如图所示。信道带宽`W=f2-f1`，其中，`f1`是信道能通过的最低频率，`f2`是信道能通过的最高频率，两者都是由信道的物理特性决定的。当组成信道的电路制成了，信道的带宽就决定了。为了使信号传输中的失真小一些，信道要有足够的带宽。

{% asset_img 12.png %}

数字信道是一种离散信道，它只能传送取离散值的数字信号。信道的带宽决定了信道中能不失真地传输的脉冲序列的最高速率。一个数字脉冲称为一个码元，用码元速率表示单位时间内信号波形的变换次数，即单位时间内通过信道传输的码元个数。若信号码元宽度为`T`秒，则码元速率`B=1/T`。码元速率的单位叫波特，所以码元速率也叫波特率。早在 1924年，亨利·奈奎斯特就推导出了有限带宽无噪声信道的极限波特率，称为尼奎斯特定理。若信道带宽为`W`，则尼奎斯特定理指出最大码元速率为`B=2W`

奈奎斯特定理指定的信道容量也叫作奈奎斯特极限，这是由信道的物理特性决定的。超过奈奎斯特极限传送脉冲信号是不可能的，所以要进一步提高波特率必须改善信道带宽。

码元携带的信息量由码元取的离散值的个数决定。若码元取两个离散值，则一个码元携带 1 位信息。若码元可取 4 种离散值，则一个码元携带两位信息。总之，一一个码元携带的信息量`n`（位）与码元的种类数`N`有如下关系：

n=log<sub>2</sub>N  (N=2<sup>n</sup>)

单位时间内在信道上传送的信息量（位数）称为数据速率。在一定的波特率下提高速率的途径是用一个码元表示更多的位数。如果把两位编码为一个码元，则数据速率可成倍提高。有公式

R=Blog<sub>2</sub>N=2Wlog<sub>2</sub>N(bps)

其中，`R`表示数据速率，单位是每秒位（`bps`或`b/s`）。

数据速率和波特率是两个不同的概念。仅当码元取两个离散值时两者的数值才相等。对于普通电话线路，带宽为 3000Hz，最高波特率为6000Baud，最高数据速率可随着调制方式的不同而取不同的值。这些都是在无噪声的理想情况下的极限值。实际信道会受到各种噪声的干扰，因而远远达不到按奈奎斯特定理计算出的数据传送速率。

香农的研究表明，有噪声信道的极限数据速率可由下面的公式计算：

C = Wlog<sub>2</sub>(1 + S / N)(bit/s)

这个公式叫作香农定理，其中，`W`为信道带宽，`S`为信号的平均功率，`N`为噪声平均功率，`S/N`叫作信噪比。由于在实际使用中`S`与`N`的比值太大，故常取其分贝数（`dB`）。分贝与信噪比的关系为：

dB=10log<sub>10</sub>(S/N)

综上所述，有两种带宽的概念，在模拟信道，带宽按照公式`W=f2-f1`计算，例如 CATV 电缆的带宽为`600MHz`或`1000MHz`；数字信道的带宽为信道能够达到的最大数据速率，例如以太网的带宽为`10Mbps`或`100Mbps`。两者可互相转换。
# 物理层下面的传输媒体
传输媒体也称为传输介质或传输媒介，它就是数据传输系统中在发送器和接收器之间的物理通路。

传输媒体可分为两大类，即导引型传输媒体和非导引型传输媒体。

在导引型传输媒体中，电磁波被导引沿着固体媒体（铜线或光纤）传播。

非导引型传输媒体就是指自由空间。在非导引型传输媒体中，电磁波的传输常称为无线传输。

{% asset_img img6.png %}

## 导引型传输媒体
### 双绞线
最常用的传输媒体。把两根相互绝缘的铜导线并排放在一起，然后用规则的方法绞合起来就构成了双绞线。绞合可以减少对相邻导线的电磁干扰。几乎所有的电话都用双绞线连接到电话交换机。

模拟传输和数字传输都可以使用双绞线，其通信距离一般为几到十几公里。

为了提高双绞线抗电磁干扰的能力，在双绞线的外面再加一层用金属丝编织成的屏蔽层，这就是屏蔽双绞线 STP (`Shielded Twisted Pair`)。

{% asset_img img7.png %}

### 同轴电缆
同轴电缆由导体铜质芯线、绝缘层、网状编织的外导体屏蔽层以及保护塑料外层组成。由于外导体屏蔽层的作用，同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据。

{% asset_img img8.png %}

目前同轴电缆主要用在有限电视网的居民小区中。
### 光缆
光纤通信就是利用光导纤维（光纤）传递光脉冲来进行通信。有光脉冲相当于1，没有光脉冲相当于0。

光纤是光纤通信的传输媒体。在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲的作用下能产生出光脉冲。在接收端利用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲。

由于可见光的频率非常高，因此一个光纤通信系统的传输带宽远远大于目前其他各种传输媒体的带宽。
#### 光纤的工作原理
光纤通常由非常透明的石英玻璃拉成细丝，主要由纤芯和包层构成双层通信圆柱体。纤芯很细，光波正是通过纤芯进行传导的。包层较纤芯有较低的折射率。

{% asset_img img9.png %}

当光线从高折射率的媒体射向低折射率的媒体时，其折射角将大于入射角。因此，只要从纤芯中射到纤芯表面的光线的入射角大于某个临界角度，就可产生全反射，光也就沿着光纤传输下去。

{% asset_img img10.png %}

#### 多模光纤与单模光纤
可以存在多条不同角度入射的光线在一条光纤中传输，这种光纤就称为多模光纤。光脉冲在多模光纤中传输时会逐渐展宽，造成失真。因此多模光纤只适用于近距离传输。

若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。这样的光纤称为单模光纤。

{% asset_img img11.png %}

#### 光纤通信中使用的光波的波段
常用的三个波段的中心分别位于`850 nm, 1300 nm`和`1550 nm`。后两种情况的衰减都较小。

所有这三个波段都具有`25000~30000 GHz`的带宽，可见光纤的通信容量非常大。
#### 光纤优点
* 通信容量非常大。
* 传输损耗小，中继距离长。
* 抗雷电和电磁干扰性能好。
* 无串音干扰，保密性好。
* 体积小，重量轻。

## 非导引型传输媒体
将自由空间称为“非导引型传输媒体”。

无线传输所使用的频段很广。

短波通信（即高频通信）主要是靠电离层的反射，但短波信道的通信质量较差，传输速率低。

微波在空间主要是直线传播。传统微波通信有两种方式：地面微波接力通信、卫星通信。

要使用某一段无线电频谱进行通信，通常必须得到本国政府有关无线电频谱管理机构的许可证。但是，也有一些无线电频段是可以自由使用的。这正好满足计算机无线局域网的需求。例如：ISM。各国的 ISM 标准有可能略有差别。

红外通信、激光通信也使用非导引型媒体。可用于近距离的笔记本电脑相互传送数据。
