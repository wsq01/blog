---
title: 物理层——基础知识
date: 2020-09-04 14:31:20
tags: 计算机网络
categories: 计算机网络
---

# 物理层的基本概念
物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。

物理层的作用是要尽可能地屏蔽掉不同传输媒体和通信手段的差异。
## 物理层的主要任务
主要任务：确定与传输媒体的接口有关的一些特性。即：
* 机械特性：指明接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置等。
* 电气特性：指明在接口电缆的各条线上出现的电压的范围。
* 功能特性：指明某条线上出现的某一电平的电压的意义。
* 过程特性：指明对于不同功能的各种可能事件的出现顺序。 

数据在计算机内部多采用并行传输方式，但数据在通信线路
# 数据通信的基础知识
## 数据通信系统的模型
一个数据通信系统可划分为三大部分，即源系统（或发送端、发送方）、传输系统（或传输网络）和目的系统（或接收端、接收方）。

下图是两个计算机经过普通电话机的连线，再经过公用电话网进行通信的模型。

{% asset_img img1.png 数据通信系统的模型 %}

常用术语：
* 数据：运送消息的实体。
* 信号：数据的电气或电磁的表现。 
* 模拟信号(`analogous signal`)：代表消息的参数的取值是连续的。 
* 数字信号(`digital signal`)：代表消息的参数的取值是离散的。 
* 码元(`code`)：在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形。在使用二进制编码时，只有两种不同的码元，一种代表0状态而另一种代表1状态。

## 有关信道的基本概念
信道是用来表示向某一个方向传送信息的媒体。因此，一条通信电路往往包含一条发送信道和一条接收信道。

从通信的双方信息交互方式来看，可以有以下三种基本方式：
* 单向通信(单工通信)：即只能有一个方向的通信而没有反方向的交互。无线电广播或有线电广播以及电视广播就属于这种类型。
* 双向交替通信(半双工通信)：即通信的双方都可以发送信息，但不能双方同时发送，当然也不能同时接收。这种通信方式是一方发送另一方接收，过一段时间后再反过来。
* 双向同时通信：又称全双工通信，即通信的双方可以同时发送和接收信息。

单向通信只需要一条信道，双向交替通信或双向同时通信都需要两条信道（每个方向各一条）。

来自信源的信号称为基带信号（即基本频带信号）。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。

基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进行调制(`modulation`)。 

调制分为两大类：
* 基带调制：仅对基带信号的波形进行变换，使它能够与信道特性相适应。变换后的信号仍然是基带信号。把这种过程称为编码(`coding`)。
* 带通调制：使用载波(`carrier`)进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，这样就能够更好地在模拟信道中传输（即仅在一段频率范围内能够通过信道）。

经过载波调制后的信号称为带通信号 (即仅在一段频率范围内能够通过信道)，而使用载波的调制称为带通调制。

### 常用编码方式
* 不归零制：正电平代表 1，负电平代表 0。
* 归零制：正脉冲代表 1，负脉冲代表 0。
* 曼彻斯特编码：位周期中心的向上跳变代表 0，位周期中心的向下跳变代表 1。但也可反过来定义。
* 差分曼彻斯特编码：在每一位的中心处始终都有跳变。位开始边界有跳变代表 0，而位开始边界没有跳变代表 1。

{% asset_img img2.png 数字信号常用的编码方式 %}

从信号波形中可以看出，曼彻斯特(`Manchester`)编码和差分曼彻斯特编码产生的信号频率比不归零制高。

从自同步能力来看，不归零制不能从信号波形本身中提取信号时钟频率（这叫做没有自同步能力），而曼彻斯特编码和差分曼彻斯特编码具有自同步能力。
### 基本的带通调制方法
基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。为了解决这一问题，就必须对基带信号进行调制 (`modulation`)。 
最基本的二元制调制方法有以下几种：
* 调幅(AM)：载波的振幅随基带数字信号而变化。例如，0或1分别对应于无载波或有载波输出。
* 调频(FM)：载波的频率随基带数字信号而变化。例如，0或1分别对应于频率f<sub>1</sub>或f<sub>2</sub>。
* 调相(PM)：载波的初始相位随基带数字信号而变化。例如，0或1分别对应于相位0度或180度。

{% asset_img img3.png 最基本的三种调制方式 %}

### 正交振幅调制
为了达到更高的信息传输速率，必须采用技术上更为复杂的多元制的振幅相位混合调制方法。例如，正交振幅调制 QAM(`Quadrature Amplitude Modulation`)。

例如：可供选择的相位有 12 种，而对于每一种相位有 1 或 2 种振幅可供选择。总共有 16 种组合，即 16 个码元。

由于`4 bit`编码共有 16 种不同的组合，因此这 16 个点中的每个点可对应于一种`4 bit`的编码。数据传输率可提高 4 倍。 

{% asset_img img4.png %}

不是码元越多越好。若每一个码元可表示的比特数越多，则在接收端进行解调时要正确识别每一种状态就越困难，出错率增加。
## 信道的极限容量
任何实际的信道都不是理想的，在传输信号时会产生各种失真以及带来多种干扰。

虽然信号在信道上传输时会不可避免的产生失真，但在接收端只要能从失真的波形中能够识别出原来的信号，那么这种失真对通信质量就没有影响。

码元传输的速率越高，或信号传输的距离越远，或传输媒体质量越差，在信道的输出端的波形的失真就越严重。

{% asset_img img5.png %}

从概念上讲，限制码元在信道上的传输速率的因素有两个：信道能够通过的频率范围、信噪比。
### 信道能够通过的频率范围
具体的信道所能通过的频率范围总是有限的。信号中的许多高频分量往往不能通过信道。

码间串扰：如果信道中的高频分量在传输时受到衰减，那么在接收端收到的波形前沿和后沿就变得不那么陡峭了，每一个码元所占的时间界限也不再明显，这样，在接收端收到的信号波形就失去了码元之间的清晰界限。

奈奎斯特推导出了著名的奈氏准则。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。

在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能。

如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。
### 信噪比
噪声存在于所有的电子设备和通信信道中。

噪声是随机产生的，它的瞬时值有时会很大。因此噪声会使接收端对码元的判决产生错误。

但噪声的影响是相对的。如果信号相对较强，那么噪声的影响就相对较小。因此，信噪比就很重要。

信噪比就是信号的平均功率和噪声的平均功率之比。常记为`S/N`，并用分贝(`dB`)作为度量单位。即：

信噪比(dB) = 10log<sub>10</sub>(S / N)(dB)

例如，当`S/N = 10`时，信噪比为`10dB`，而当`S/N = 1000`时，信噪比为`30dB`。

香农(`Shannon`)用信息论的理论推导出了带宽受限且有高斯白噪声干扰的信道的极限、无差错的信息传输速率（香农公式）。

香农公式指出，信道的极限信息传输速率 C 可表达为：

C = Wlog<sub>2</sub>(1 + S / N)(bit/s) 

其中：`W`为信道的带宽（以`Hz`为单位）；`S`为信道内所传信号的平均功率；`N`为信道内部的高斯噪声功率。 

香农公式表明信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。 

只要信息传输速率低于信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输。

若信道带宽`W`或信噪比`S/N`没有上限（当然实际信道不可能是这样的），则信道的极限信息传输速率`C`也就没有上限。

实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。因为在实际信道中，信号还要受到其它一些损伤，如各种脉冲干扰和在传输中产生的失真。

请注意，对于频带宽度已确定的信道，如果信噪比不能再提高了，并且码元传输速率也达到了上限值，那么还能提高信息的传输速率的方法这就是：用编码的方法让每一个码元携带更多比特的信息量。
# 物理层下面的传输媒体
传输媒体也称为传输介质或传输媒介，它就是数据传输系统中在发送器和接收器之间的物理通路。

传输媒体可分为两大类，即导引型传输媒体和非导引型传输媒体。

在导引型传输媒体中，电磁波被导引沿着固体媒体（铜线或光纤）传播。

非导引型传输媒体就是指自由空间。在非导引型传输媒体中，电磁波的传输常称为无线传输。

{% asset_img img6.png %}

## 导引型传输媒体
### 双绞线
最常用的传输媒体。把两根相互绝缘的铜导线并排放在一起，然后用规则的方法绞合起来就构成了双绞线。绞合可以减少对相邻导线的电磁干扰。几乎所有的电话都用双绞线连接到电话交换机。

模拟传输和数字传输都可以使用双绞线，其通信距离一般为几到十几公里。

为了提高双绞线抗电磁干扰的能力，在双绞线的外面再加一层用金属丝编织成的屏蔽层，这就是屏蔽双绞线 STP (`Shielded Twisted Pair`)。

{% asset_img img7.png %}

### 同轴电缆
同轴电缆由导体铜质芯线、绝缘层、网状编织的外导体屏蔽层以及保护塑料外层组成。由于外导体屏蔽层的作用，同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据。

{% asset_img img8.png %}

目前同轴电缆主要用在有限电视网的居民小区中。
### 光缆
光纤通信就是利用光导纤维（光纤）传递光脉冲来进行通信。有光脉冲相当于1，没有光脉冲相当于0。

光纤是光纤通信的传输媒体。在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲的作用下能产生出光脉冲。在接收端利用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲。

由于可见光的频率非常高，因此一个光纤通信系统的传输带宽远远大于目前其他各种传输媒体的带宽。
#### 光纤的工作原理
光纤通常由非常透明的石英玻璃拉成细丝，主要由纤芯和包层构成双层通信圆柱体。纤芯很细，光波正是通过纤芯进行传导的。包层较纤芯有较低的折射率。

{% asset_img img9.png %}

当光线从高折射率的媒体射向低折射率的媒体时，其折射角将大于入射角。因此，只要从纤芯中射到纤芯表面的光线的入射角大于某个临界角度，就可产生全反射，光也就沿着光纤传输下去。

{% asset_img img10.png %}

#### 多模光纤与单模光纤
可以存在多条不同角度入射的光线在一条光纤中传输，这种光纤就称为多模光纤。光脉冲在多模光纤中传输时会逐渐展宽，造成失真。因此多模光纤只适用于近距离传输。

若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。这样的光纤称为单模光纤。

{% asset_img img11.png %}

#### 光纤通信中使用的光波的波段
常用的三个波段的中心分别位于`850 nm, 1300 nm`和`1550 nm`。后两种情况的衰减都较小。

所有这三个波段都具有`25000~30000 GHz`的带宽，可见光纤的通信容量非常大。
#### 光纤优点
* 通信容量非常大。
* 传输损耗小，中继距离长。
* 抗雷电和电磁干扰性能好。
* 无串音干扰，保密性好。
* 体积小，重量轻。

## 非导引型传输媒体
将自由空间称为“非导引型传输媒体”。

无线传输所使用的频段很广。

短波通信（即高频通信）主要是靠电离层的反射，但短波信道的通信质量较差，传输速率低。

微波在空间主要是直线传播。传统微波通信有两种方式：地面微波接力通信、卫星通信。

要使用某一段无线电频谱进行通信，通常必须得到本国政府有关无线电频谱管理机构的许可证。但是，也有一些无线电频段是可以自由使用的。这正好满足计算机无线局域网的需求。例如：ISM。各国的 ISM 标准有可能略有差别。

红外通信、激光通信也使用非导引型媒体。可用于近距离的笔记本电脑相互传送数据。
